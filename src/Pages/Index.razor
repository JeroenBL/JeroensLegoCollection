@page "/"
@using Data.Models
@using Data.Services
@inject LegoService _legoService

<CascadingValue Value="@ownedLegoSet">
    <CascadingValue Value=@IsSetOnDisplay>
        <CascadingValue Value=@SearchText>
            <BlazingLego.Components.LegoDisplayBetter>
            </BlazingLego.Components.LegoDisplayBetter> 
        </CascadingValue>
    </CascadingValue>
</CascadingValue>

@code {
    public List<LegoSet> ownedLegoSet = new List<LegoSet>();

    [CascadingParameter]
    public bool IsSetOnDisplay { get; set; }

    [CascadingParameter]
    public string SearchText { get; set; }

    protected override void OnInitialized()
    {
        ownedLegoSet = _legoService.ListAll().OrderByDescending(l => l.YearAcquired).ToList();
    }
}